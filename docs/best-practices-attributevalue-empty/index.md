---
title: "Best Practice: Attributevalue And Empty"
---

## best-practices-attributevalue-empty

This documentation outlines the **best practice** for defensively handling personalization attributes in Salesforce Marketing Cloud AMPscript, specifically by combining the `AttributeValue()` and `Empty()` functions. This approach ensures that your AMPscript code is robust and prevents errors when dealing with attributes that may not exist or contain null/empty values, which is crucial for reliable email and landing page personalization.

The `AttributeValue()` function safely retrieves the value of a specified attribute (e.g., a data extension field or subscriber attribute) without throwing an error if the attribute is not found. The `Empty()` function then evaluates whether a given variable or expression has no value (is null, empty string, or whitespace).

### Arguments

While `best-practices-attributevalue-empty` is a conceptual best practice rather than a single function, its application primarily involves the arguments of the `AttributeValue()` function, which are detailed below:

| Ordinal | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          - |
| 1       | String   | Yes      | The name of the attribute to retrieve. This can be a subscriber attribute, a data extension column, or a variable.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            - |

> **NOTE:** The `AttributeValue()` function is context-aware. It will first look for a matching attribute in the send context (e.g., a Sendable Data Extension), then in the Subscriber/Contact attributes, and finally in the Job-level attributes.

### Example 1: Basic Use

This example demonstrates how to greet a subscriber by their first name, with a fallback to "Valued Customer" if the `FirstName` attribute is not available.

```html
%%[

  /* Retrieve the value of the 'FirstName' attribute */
  VAR @firstName
  SET @firstName = AttributeValue("FirstName")

  /* Check if the 'FirstName' attribute is empty */
  IF NOT Empty(@firstName) THEN

]%%

  Hello %%=v(@firstName)=%%,

%%[ ELSE ]%%

  Hello Valued Customer,

%%[ ENDIF ]%%
```

### Example 2: Advanced Scenario

This example shows how to use the `AttributeValue()` and `Empty()` functions to conditionally display a personalized offer based on a customer's `LoyaltyTier` attribute. If the `LoyaltyTier` is 'Gold' or 'Platinum', a special offer is shown. Otherwise, a generic offer is displayed.

```html
%%[

  /* Retrieve the value of the 'LoyaltyTier' attribute */
  VAR @loyaltyTier
  SET @loyaltyTier = AttributeValue("LoyaltyTier")

  /* Check if the 'LoyaltyTier' attribute is not empty and has a specific value */
  IF NOT Empty(@loyaltyTier) AND (@loyaltyTier == "Gold" OR @loyaltyTier == "Platinum") THEN

]%%

  <p>As a valued %%=v(@loyaltyTier)=%% member, you get an exclusive 20% off your next purchase!</p>

%%[ ELSE ]%%

  <p>Check out our latest offers and promotions!</p>

%%[ ENDIF ]%%
```
