---
title: SHA512
sidebar_label: SHA512
description: Converte uma string em um hash hexadecimal SHA-2 de 512 bits.
---

<!-- generated-by-script -->

# SHA512

## Descrição

A função `SHA512` converte uma string em um hash hexadecimal SHA-2 de 512 bits. É uma das funções de hash mais robustas disponíveis no AMPscript, gerando uma saída de 128 caracteres hexadecimais. Você pode usá-la para criar identificadores únicos, verificar integridade de dados ou gerar tokens seguros sem possibilidade de reversão. Por padrão, a codificação utilizada é UTF-8, mas também é possível usar UTF-16.

## Sintaxe

```ampscript
SHA512(stringToConvert, charSet)
```

## Parâmetros

| Parâmetro | Tipo | Obrigatório | Descrição |
|-----------------|--------|-------------|-----------|
| stringToConvert | String | Sim | A string que você quer converter em hash SHA-512. |
| charSet | String | Não | O conjunto de caracteres usado na codificação. O valor padrão é `UTF-8`. Também aceita `UTF-16`. |

## Exemplo básico

Gerando um hash SHA-512 a partir do e-mail de um assinante:

```ampscript
%%[
VAR @email, @hashEmail
SET @email = "joao.silva@email.com.br"
SET @hashEmail = SHA512(@email)
]%%

Hash do e-mail: %%=v(@hashEmail)=%%
```

**Saída:**
```
Hash do e-mail: 495a8104eef74ae73518705a8227555b596958343b4506860f1925a9cd7056e25473306a9d5ab841147d41cb7476dd965ab37f21bd379d625d42b40f18ef3356
```

## Exemplo avançado

Imagine que o **Banco Meridional** precisa gerar um token único para cada cliente acessar uma página de consulta de extrato no CloudPages. Para isso, podemos combinar o CPF do cliente com um identificador interno e gerar um hash SHA-512 que serve como token seguro na URL:

```ampscript
%%[
VAR @cpf, @idCliente, @stringBase, @token, @urlConsulta

SET @cpf = AttributeValue("CPF")
SET @idCliente = AttributeValue("IdCliente")

/* Combina CPF + ID do cliente + uma chave fixa para gerar o token */
SET @stringBase = Concat(@cpf, "|", @idCliente, "|", "chave-secreta-banco-meridional-2024")
SET @token = SHA512(@stringBase)

SET @urlConsulta = Concat("https://www.bancomeridional.com.br/extrato?token=", @token, "&id=", @idCliente)
]%%

Olá, %%=v(AttributeValue("PrimeiroNome"))=%%!

Para consultar seu extrato de forma segura, clique no link abaixo:

%%=RedirectTo(@urlConsulta)=%%
```

**Saída:**
```
Olá, Carlos!

Para consultar seu extrato de forma segura, clique no link abaixo:

https://www.bancomeridional.com.br/extrato?token=82fdb746ae8cc9a50b4da8e92706e41ef9d242a66c3d40a2a698124583f81769f35226679edbd2fa05c900a6c9ab8337b31f8fcc6f9f9cdfa56001899f758d8a&id=98765
```

### Exemplo com UTF-16

Se você precisa gerar o hash usando codificação UTF-16 (por exemplo, para integrar com um sistema externo que espera esse padrão), basta passar o segundo parâmetro:

```ampscript
%%[
VAR @dados, @hashUtf16
SET @dados = "Maria Santos|12345678901"
SET @hashUtf16 = SHA512(@dados, "UTF-16")
]%%

Token (UTF-16): %%=v(@hashUtf16)=%%
```

**Saída:**
```
Token (UTF-16): 82fdb746ae8cc9a50b4da8e92706e41ef9d242a66c3d40a2a698124583f81769f35226679edbd2fa05c900a6c9ab8337b31f8fcc6f9f9cdfa56001899f758d8a
```

## Observações

- O hash SHA-512 é **irreversível** — não é possível recuperar a string original a partir do hash. Por isso, ele não é um método de criptografia, mas sim de hashing.
- A saída sempre será uma string hexadecimal de **128 caracteres**, independentemente do tamanho da string de entrada.
- Os únicos valores aceitos para `charSet` são `UTF-8` (padrão) e `UTF-16`. Usar codificações diferentes gera resultados diferentes para a mesma string de entrada — garanta que o sistema que vai validar o hash use a mesma codificação.
- **Não use SHA-512 sozinho para armazenar senhas.** Para esse cenário, o ideal são algoritmos específicos como bcrypt ou scrypt (fora do escopo do AMPscript).
- SHA-512 é mais seguro que [MD5](../encryption-functions/md5.md), [SHA1](../encryption-functions/sha1.md) e [SHA256](../encryption-functions/sha256.md), mas gera uma string maior. Avalie se o tamanho do hash é adequado para o seu caso de uso (por exemplo, em URLs muito longas).
- A função funciona em todos os contextos do Marketing Cloud: e-mails, CloudPages, SMS e Landing Pages.
- Se a string de entrada for vazia, a função ainda retorna um hash válido (o hash de uma string vazia).

## Funções relacionadas

- [MD5](../encryption-functions/md5.md) — Gera um hash MD5 de 128 bits (menos seguro, mas menor).
- [SHA1](../encryption-functions/sha1.md) — Gera um hash SHA-1 de 160 bits.
- [SHA256](../encryption-functions/sha256.md) — Gera um hash SHA-256 de 256 bits, um meio-termo entre segurança e tamanho.
- [EncryptSymmetric](../encryption-functions/encryptsymmetric.md) — Criptografa dados de forma reversível (quando você precisa descriptografar depois).
- [DecryptSymmetric](../encryption-functions/decryptsymmetric.md) — Descriptografa dados criptografados com EncryptSymmetric.
- [Concat](../string-functions/concat.md) — Concatena strings, útil para montar a string base antes de gerar o hash.
- [GUID](../utility-functions/guid.md) — Gera um identificador único, alternativa quando você não precisa de hash determinístico.